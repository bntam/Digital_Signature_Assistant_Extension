<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BHYT 4210 - Danh s√°ch thu·ªëc</title>
    <link rel="stylesheet" href="css/bhyt-4210.css">
</head>
<body>
    <div class="container">
        <header class="page-header">
            <h1>üìã B·∫£o Hi·ªÉm 4210 - Danh s√°ch thu·ªëc</h1>
            <div class="header-actions">
                <button id="manageMedicineDataBtn" class="btn btn-info" style="margin-right: 10px;">
                    <span class="icon">‚öôÔ∏è</span> Qu·∫£n l√Ω d·ªØ li·ªáu thu·ªëc
                </button>
                <button id="backBtn" class="btn btn-secondary">
                    <span class="icon">‚Üê</span> Quay l·∫°i
                </button>
            </div>
        </header>

        <main class="main-content">
            <!-- Filter Section -->
            <section class="filter-section">
                <div class="filter-group">
                    <label for="dateFrom">T·ª´ ng√†y:</label>
                    <input 
                        type="text" 
                        id="dateFrom" 
                        class="form-input"
                        placeholder="DD/MM/YYYY HH:mm:ss"
                        value="11/11/2025 00:00:00"
                    />
                </div>
                <div class="filter-group">
                    <label for="dateTo">ƒê·∫øn ng√†y:</label>
                    <input 
                        type="text" 
                        id="dateTo" 
                        class="form-input"
                        placeholder="DD/MM/YYYY HH:mm:ss"
                        value="11/11/2025 23:59:59"
                    />
                </div>
                <button id="searchBtn" class="btn btn-primary">
                    <span class="icon">üîç</span> T√¨m ki·∫øm
                </button>
                
                <div class="filter-group" style="margin-left: auto;">
                    <label>
                        <input type="checkbox" id="showInvalidOnlyCheckbox" style="margin-right: 6px;">
                        <span style="color: #dc2626; font-weight: 600;">üö´ Ch·ªâ hi·ªÉn th·ªã b·ªánh nh√¢n c√≥ thu·ªëc kh√¥ng h·ª£p l·ªá</span>
                    </label>
                </div>
            </section>

            <!-- Progress Section -->
            <div id="progressSection" class="progress-section" style="display: none;">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-info">
                    <span id="progressText">ƒêang x·ª≠ l√Ω...</span>
                    <span id="progressStatus"></span>
                </div>
            </div>

            <!-- Results Section -->
            <section class="results-section">
                <div class="section-header">
                    <h3>üìä K·∫øt qu·∫£</h3>
                    <div class="stats">
                        <span class="stat-item">
                            <span class="icon">üìù</span>
                            T·ªïng: <strong id="totalCount">0</strong>
                        </span>
                    </div>
                </div>

                <div class="table-container">
                    <table id="resultsTable" class="data-table">
                        <thead>
                            <tr>
                                <th class="col-stt">STT</th>
                                <th class="col-ma-lk">M√£ LK</th>
                                <th class="col-ho-ten">H·ªç t√™n</th>
                                <th class="col-benh-chinh">M√£ b·ªánh ch√≠nh</th>
                                <th class="col-benh-kt">M√£ b·ªánh KT</th>
                                <th class="col-ma-thuoc" style="display: none;">M√£ thu·ªëc</th>
                                <th class="col-tong-thuoc" style="text-align: center;">T·ªïng s·ªë thu·ªëc</th>
                            </tr>
                        </thead>
                        <tbody id="resultsTableBody">
                            <tr class="empty-row">
                                <td colspan="7" class="empty-state">
                                    Ch·ªçn kho·∫£ng th·ªùi gian v√† click T√¨m ki·∫øm ƒë·ªÉ xem k·∫øt qu·∫£
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <!-- Notification System -->
    <div id="notificationContainer" class="notification-container"></div>

    <!-- Medicine Data Editor Modal -->
    <div id="medicineDataModal" class="modal" style="display: none;">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>‚öôÔ∏è Qu·∫£n l√Ω d·ªØ li·ªáu thu·ªëc</h2>
                <button class="modal-close" onclick="bhyt4210.closeMedicineDataModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="editor-toolbar">
                    <button id="addMedicineBtn" class="btn btn-success btn-sm">
                        <span class="icon">‚ûï</span> Th√™m thu·ªëc
                    </button>
                    <button id="saveMedicineDataBtn" class="btn btn-primary btn-sm">
                        <span class="icon">üíæ</span> L∆∞u thay ƒë·ªïi
                    </button>
                    <span class="editor-info">T·ªïng: <strong id="medicineCount">0</strong> thu·ªëc</span>
                </div>
                <div class="table-container" style="max-height: 60vh; overflow: auto;">
                    <table id="medicineDataTable" class="data-table editor-table">
                        <thead style="position: sticky; top: 0; z-index: 10; background: #f8f9fa;">
                            <tr>
                                <th style="width: 50px;">STT</th>
                                <th style="width: 250px;">T√™n thu·ªëc</th>
                                <th style="width: 300px;">ICD Ch·ªâ ƒë·ªãnh</th>
                                <th style="width: 300px;">ICD Ch·ªëng ch·ªâ ƒë·ªãnh</th>
                                <th style="width: 80px;">Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="medicineDataBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/api-service.js"></script>
    <script src="js/bhyt-4210.js"></script>
</body>
</html>
